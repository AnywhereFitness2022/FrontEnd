{"ast":null,"code":"var _jsxFileName = \"/Users/gregball/Desktop/Classwork/FrontEnd/front-end/src/component/Class.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport FitnessClassCard from './FitnessClassCard';\nimport { useNavigate } from 'react-router-dom'; // still needs search bar\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Class = () => {\n  _s();\n\n  const initialClientState = {\n    username: '',\n    password: '',\n    role: 'client'\n  };\n  const initialInstructorState = {\n    username: '',\n    password: '',\n    role: 'instructor'\n  };\n  const [classes, setClasses] = useState();\n  const [creds, setCreds] = useState(initialClientState);\n  const [instCreds, setInstCreds] = useState(initialInstructorState);\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.post(`https://anywhere-fitness-buildweek.herokuapp.com/api/clients/login`, creds).then(resp => {\n      console.log('client:', resp);\n      const {\n        token\n      } = resp.data;\n      localStorage.setItem('token', token);\n      navigate('/classes');\n    }).catch(err => {\n      console.log(err);\n    });\n  });\n  useEffect(() => {\n    axios.post(`https://anywhere-fitness-buildweek.herokuapp.com/api/instructors/login`, instCreds).then(resp => {\n      const {\n        token\n      } = resp.data;\n      localStorage.setItem('token', token);\n      navigate('/classes');\n    }).catch(err => {\n      console.log(err);\n    });\n  });\n  useEffect(() => {\n    const getClass = () => {\n      axios.get(`https://anywhere-fitness-buildweek.herokuapp.com/api/clients/classes`).then(res => {\n        console.log(res); // setClasses(res);\n      }).catch(err => {\n        console.error(err);\n      });\n    };\n\n    getClass();\n  }, []);\n\n  const handleChanges = e => {\n    e.preventDefault();\n    setClasses({ ...classes,\n      [e.target.value]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    /* needs to plug search criteria into url */\n\n    axios.get(`https://anywhere-fitness-buildweek.herokuapp.com/api/clients/classes/public`).then(res => {\n      console.log(res); // setClasses({\n      //     ...classes,\n      //     classes: res.data\n      //})\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChanges\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Class, \"DDlWvjez9KrAa4CJAaiKpvF8M9I=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Class;\nexport default Class;\n\nvar _c;\n\n$RefreshReg$(_c, \"Class\");","map":{"version":3,"sources":["/Users/gregball/Desktop/Classwork/FrontEnd/front-end/src/component/Class.js"],"names":["React","useEffect","useState","axios","FitnessClassCard","useNavigate","Class","initialClientState","username","password","role","initialInstructorState","classes","setClasses","creds","setCreds","instCreds","setInstCreds","navigate","post","then","resp","console","log","token","data","localStorage","setItem","catch","err","getClass","get","res","error","handleChanges","e","preventDefault","target","value","handleSubmit"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport FitnessClassCard from './FitnessClassCard';\nimport { useNavigate } from 'react-router-dom';\n\n// still needs search bar\n\n\nconst Class = () => {\n\n    const initialClientState = {\n        username: '',\n        password: '', \n        role: 'client'\n    }\n    const initialInstructorState = {\n        username: '',\n        password: '', \n        role: 'instructor'\n    }\n\n    const [classes, setClasses] = useState();\n    const [creds, setCreds] = useState(initialClientState);\n    const [instCreds, setInstCreds] = useState(initialInstructorState);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        axios.post(`https://anywhere-fitness-buildweek.herokuapp.com/api/clients/login`, creds)\n            .then(resp => {\n                console.log('client:', resp)\n                const { token } = resp.data;\n                localStorage.setItem('token', token);\n                navigate('/classes')\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    })\n\n    useEffect(() => {\n        axios.post(`https://anywhere-fitness-buildweek.herokuapp.com/api/instructors/login`, instCreds)\n        .then(resp => {\n            const { token } = resp.data;\n            localStorage.setItem('token', token);\n            navigate('/classes')\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    })\n\n    useEffect(() => {\n        const getClass = () => {\n            axios.get(`https://anywhere-fitness-buildweek.herokuapp.com/api/clients/classes`)\n            .then(res => {\n                console.log(res);\n                // setClasses(res);\n            }).catch(err => {\n                console.error(err);\n            })\n        }\n        getClass();\n    }, []);\n\n    const handleChanges = (e) => {\n        e.preventDefault();\n        setClasses({\n            ...classes, \n        [e.target.value]: e.target.value\n        })\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        /* needs to plug search criteria into url */\n        axios.get(`https://anywhere-fitness-buildweek.herokuapp.com/api/clients/classes/public`)\n            .then((res) => {\n                console.log(res)\n                // setClasses({\n                //     ...classes,\n                //     classes: res.data\n                //})\n            }).catch((err) => {\n                console.error(err)\n            })\n    };\n\n    return(\n        <div>\n            <form onSubmit={handleSubmit}>\n                <input onChange={handleChanges}/>\n            </form>\n            {/* { \n            classes.map(class => (\n                <FitnessClassCard class={class} />\n            ))};  */}\n        </div>\n    )\n}\n\nexport default Class;"]},"metadata":{},"sourceType":"module"}